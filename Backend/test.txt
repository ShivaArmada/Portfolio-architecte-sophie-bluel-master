// Create headers for the request
            const headers = new Headers();
            headers.append('Authorization', 'Bearer ' + token);
            headers.append('Accept', 'application/json');
            // Create a new formData object
            const formData = new FormData();
            formData.append('title', titleInput.value);
            // Get the category ID from the selected category
            const selectedCategory = categorySelect.id;
            formData.append('image', imageInput.files[0]);
            formData.append('category', selectedCategory);
            // Send a POST request to the server
            fetch("http://localhost:5678/api/works", {
                method: "POST",
                headers: headers,
                body: formData

                mon code c'est ca pour l'ajout d'image :

                //Add event listener to the image button to preview the selected image
                imageInput.addEventListener("change", (event) => {
                    event.preventDefault();
                    const file = event.target.files[0];
                    const reader = new FileReader();
                    reader.onload = functuion (e) {
                        const previewImage = document.createElement("img");
                        previewImage.classList.add("previewImg");
                        previewImage.src = e.target.result;
                        imageLabel.innerHTML = '';
                        imageLabel.appendChild(previewImage);
                        console.log(previewImage);
                    };
                    reader.readAsDataURL(file);
                });


//create an input for the image
const imageInput = document.createElement("input");
imageInput.setAttribute("type", "file");
imageInput.setAttribute("accept", "image/jpeg, image/png");
imageInput.setAttribute("max-size", "4MB");
imageInput.classList.add("image-input");
imageInput.required = true;
